# zlib.bytesRead

## Description

Since `zlib.bytesRead` is deprecated (DEP0108) and has reached End-of-Life status, we should provide a codemod to replace it.

- The codemod should replace `zlib.bytesRead` with `zlib.bytesWritten`.
- The codemod should handle all zlib transform streams that used the old property.
- The codemod should handle both CommonJS and ESM imports.
- The codemod should preserve the usage context and variable assignments.

## Additional Information

Note that `zlib.bytesRead` was removed in Node.js v23.0.0. The property was deprecated because it was replaced with `zlib.bytesWritten` for consistency with other Node.js streams. Instead of `zlib.bytesRead`, developers should use `zlib.bytesWritten`.

The `zlib.bytesRead` property tracked the number of bytes read by the zlib stream, but the new `zlib.bytesWritten` property provides the same information with clearer naming that matches the stream's perspective.

## Examples

### Example 1: Basic bytesRead usage

**Before:**

```js
const zlib = require("node:zlib");
const gzip = zlib.createGzip();
gzip.on("end", () => {
  console.log("Bytes processed:", gzip.bytesRead);
});
```

**After:**

```js
const zlib = require("node:zlib");
const gzip = zlib.createGzip();
gzip.on("end", () => {
  console.log("Bytes processed:", gzip.bytesWritten);
});
```

### Example 2: Compression statistics

**Before:**

```js
const zlib = require("node:zlib");
const deflate = zlib.createDeflate();
deflate.on("finish", () => {
  const stats = {
    input: deflate.bytesRead,
    output: deflate.bytesWritten
  };
  console.log("Compression ratio:", stats.output / stats.input);
});
```

**After:**

```js
const zlib = require("node:zlib");
const deflate = zlib.createDeflate();
deflate.on("finish", () => {
  const stats = {
    input: deflate.bytesWritten,
    output: deflate.bytesWritten
  };
  console.log("Compression ratio:", stats.output / stats.input);
});
```

### Example 3: Progress tracking

**Before:**

```js
const zlib = require("node:zlib");
function trackProgress(stream) {
  setInterval(() => {
    console.log(`Progress: ${stream.bytesRead} bytes`);
  }, 1000);
}
```

**After:**

```js
const zlib = require("node:zlib");
function trackProgress(stream) {
  setInterval(() => {
    console.log(`Progress: ${stream.bytesWritten} bytes`);
  }, 1000);
}
```

### Example 4: Stream monitoring

**Before:**

```js
const zlib = require("node:zlib");
const gzip = zlib.createGzip();
const monitor() => ({
  read: gzip.bytesRead,
  written: gzip.bytesWritten
});
```

**After:**

```js
const zlib = require("node:zlib");
const gzip = zlib.createGzip();
const monitor = () => ({
  written: gzip.bytesWritten,
  total: gzip.bytesWritten
});
```

### Example 5: ESM import usage

**Before:**

```js
import { createGzip } from "node:zlib";
const gzip = createGzip();
console.log("Bytes read:", gzip.bytesRead);
```

**After:**

```js
import { createGzip } from "node:zlib";
const gzip = createGzip();
console.log("Bytes written:", gzip.bytesWritten);
```

### Example 6: Class method using bytesRead

**Before:**

```js
const zlib = require("node:zlib");
class CompressionTracker {
  constructor() {
    this.gzip = zlib.createGzip();
  }
  
  getInputBytes() {
    return this.gzip.bytesRead;
  }
}
```

**After:**

```js
const zlib = require("node:zlib");
class CompressionTracker {
  constructor() {
    this.gzip = zlib.createGzip();
  }
  
  getInputBytes() {
    return this.gzip.bytesWritten;
  }
}
```

## Refs

- [DEP0108: `zlib.bytesRead`](https://nodejs.org/api/deprecations.html#dep0108)