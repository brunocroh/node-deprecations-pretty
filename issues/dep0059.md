# util.log()

## Description

Since `util.log()` is deprecated (DEP0059) and has reached End-of-Life status, we should provide a codemod to replace it.

- The codemod should replace `util.log(message)` with `console.log` with timestamp prefix.
- The codemod should handle both CommonJS and ESM imports.
- The codemod should remove unused util imports when no other util functions are used.
- The codemod should preserve the timestamp formatting behavior.

## Additional Information

Note that `util.log()` was removed in Node.js v23.0.0. The function was deprecated because it was a utility function that simply printed messages to stdout with a timestamp prefix. Instead of `util.log()`, developers should use `console.log()` with manual timestamp formatting if needed, or other logging libraries.

The `util.log()` function printed messages in the format "[timestamp] message" but this functionality can be easily replicated with standard console methods.

## Examples

### Example 1: Basic util.log usage

**Before:**

```js
const util = require("node:util");
util.log("Server started");
```

**After:**

```js
console.log(`${new Date().toISOString()} - Server started`);
```

### Example 2: Multiple log statements

**Before:**

```js
const util = require("node:util");
util.log("Starting application");
util.log("Configuration loaded");
```

**After:**

```js
console.log(`${new Date().toISOString()} - Starting application`);
console.log(`${new Date().toISOString()} - Configuration loaded`);
```

### Example 3: Log with variables

**Before:**

```js
const util = require("node:util");
const port = 3000;
util.log(`Server listening on port ${port}`);
```

**After:**

```js
const port = 3000;
console.log(`${new Date().toISOString()} - Server listening on port ${port}`);
```

### Example 4: ESM import usage

**Before:**

```js
import { log } from "node:util";
log("Error occurred");
```

**After:**

```js
console.log(`${new Date().toISOString()} - Error occurred`);
```

### Example 5: Function wrapper

**Before:**

```js
const util = require("node:util");
function logMessage(msg) {
  util.log(msg);
}
```

**After:**

```js
function logMessage(msg) {
  console.log(`${new Date().toISOString()} - ${msg}`);
}
```

### Example 6: Alternative with console.timeStamp

**Before:**

```js
const util = require("node:util");
util.log("Debug checkpoint");
```

**After:**

```js
console.timeStamp("Debug checkpoint");
```

## Refs

- [DEP0059: `util.log()`](https://nodejs.org/api/deprecations.html#dep0059)