# timers.unenroll()

## Description

Since `timers.unenroll()` is deprecated (DEP0096) and has reached End-of-Life status, we should provide a codemod to replace it.

- The codemod should remove calls to `timers.unenroll()` as it was an internal API.
- The codemod should replace it with `clearTimeout()` or `clearInterval()` for public timer APIs.
- The codemod should handle both CommonJS and ESM imports.
- The codemod should suggest using standard timer clearing methods.

## Additional Information

Note that `timers.unenroll()` was removed in Node.js v24.0.0. The function was deprecated because it was an internal API that was never intended for public use. Instead of `timers.unenroll()`, developers should use `clearTimeout()`, `clearInterval()`, or other standard timer clearing methods.

The `timers.unenroll()` function was part of the internal timer implementation and was used to remove timers from the internal timer wheel, but this functionality should be handled through the public timer APIs.

## Examples

### Example 1: Replace with clearTimeout

**Before:**

```js
const timers = require("node:timers");
const timer = setTimeout(callback, 1000);
timers.unenroll(timer);
```

**After:**

```js
const timer = setTimeout(callback, 1000);
clearTimeout(timer);
```

### Example 2: Timer management function

**Before:**

```js
const timers = require("node:timers");
function cancelTimer(timer) {
  timers.unenroll(timer);
}
```

**After:**

```js
function cancelTimer(timer) {
  clearTimeout(timer);
}
```

### Example 3: Class-based timer management

**Before:**

```js
const timers = require("node:timers");
class TimerManager {
  cancel(timer) {
    timers.unenroll(timer);
  }
}
```

**After:**

```js
class TimerManager {
  constructor() {
    this.timers = new Set();
  }
  
  setTimeout(callback, delay) {
    const timer = setTimeout(callback, delay);
    this.timers.add(timer);
    return timer;
  }
  
  cancel(timer) {
    clearTimeout(timer);
    this.timers.delete(timer);
  }
  
  cancelAll() {
    for (const timer of this.timers) {
      clearTimeout(timer);
    }
    this.timers.clear();
  }
}
```

### Example 4: Connection timeout handling

**Before:**

```js
const timers = require("node:timers");
function handleConnection(socket) {
  const timeout = setTimeout(() => socket.destroy(), 30000);
  socket.on("data", () => {
    timers.unenroll(timeout);
  });
}
```

**After:**

```js
function handleConnection(socket) {
  const timeout = setTimeout(() => socket.destroy(), 30000);
  socket.on("data", () => {
    clearTimeout(timeout);
  });
}
```

### Example 5: ESM import replacement

**Before:**

```js
import { unenroll } from "node:timers";
const timer = setTimeout(callback, 5000);
unenroll(timer);
```

**After:**

```js
const timer = setTimeout(callback, 5000);
clearTimeout(timer);
```

### Example 6: Multiple timer types

**Before:**

```js
const timers = require("node:timers");
function cleanup(timeoutTimer, intervalTimer) {
  timers.unenroll(timeoutTimer);
  timers.unenroll(intervalTimer);
}
```

**After:**

```js
function cleanup(timeoutTimer, intervalTimer) {
  clearTimeout(timeoutTimer);
  clearInterval(intervalTimer);
}
```

## Refs

- [DEP0096: `timers.unenroll()`](https://nodejs.org/api/deprecations.html#dep0096)