# process.assert()

## Description

Since `process.assert()` is deprecated (DEP0100) and has reached End-of-Life status, we should provide a codemod to replace it.

- The codemod should replace `process.assert()` with `require('node:assert')()` or `console.assert()`.
- The codemod should handle both CommonJS and ESM imports.
- The codemod should preserve assertion logic and error handling.
- The codemod should suggest using the assert module for more robust assertions.

## Additional Information

Note that `process.assert()` was removed in Node.js v23.0.0. The function was deprecated because it was an undocumented internal API that provided basic assertion functionality. Instead of `process.assert()`, developers should use the `node:assert` module or `console.assert()` for debugging purposes.

The `process.assert()` function was never part of the official Node.js API and its behavior was not guaranteed. The assert module provides much more comprehensive assertion functionality.

## Examples

### Example 1: Replace with assert module

**Before:**

```js
process.assert(condition, "Assertion failed");
```

**After:**

```js
const assert = require("node:assert");
assert(condition, "Assertion failed");
```

### Example 2: Replace with console.assert

**Before:**

```js
process.assert(value > 0, "Value must be positive");
```

**After:**

```js
console.assert(value > 0, "Value must be positive");
```

### Example 3: Function using process.assert

**Before:**

```js
function validateInput(input) {
  process.assert(typeof input === "string", "Input must be string");
  return input.trim();
}
```

**After:**

```js
const assert = require("node:assert");
function validateInput(input) {
  assert(typeof input === "string", "Input must be string");
  return input.trim();
}
```

### Example 4: Multiple assertions

**Before:**

```js
function processData(data) {
  process.assert(data, "Data is required");
  process.assert(Array.isArray(data), "Data must be array");
  return data.map(item => item * 2);
}
```

**After:**

```js
const assert = require("node:assert");
function processData(data) {
  assert(data, "Data is required");
  assert(Array.isArray(data), "Data must be array");
  return data.map(item => item * 2);
}
```

### Example 5: ESM import usage

**Before:**

```js
// No import needed for process.assert
process.assert(config.port, "Port must be configured");
```

**After:**

```js
import assert from "node:assert";
assert(config.port, "Port must be configured");
```

### Example 6: Development-only assertions

**Before:**

```js
if (process.env.NODE_ENV === "development") {
  process.assert(debugInfo, "Debug info required in development");
}
```

**After:**

```js
if (process.env.NODE_ENV === "development") {
  console.assert(debugInfo, "Debug info required in development");
}
```

## Refs

- [DEP0100: `process.assert()`](https://nodejs.org/api/deprecations.html#dep0100)