# timers.active()

## Description

Since `timers.active()` is deprecated (DEP0126) and has reached End-of-Life status, we should provide a codemod to replace it.

- The codemod should remove calls to `timers.active()` as it was an internal API.
- The codemod should replace it with proper timer management using public APIs.
- The codemod should handle both CommonJS and ESM imports.
- The codemod should suggest using `setTimeout`, `setInterval`, or custom timer management.

## Additional Information

Note that `timers.active()` was removed in Node.js v24.0.0. The function was deprecated because it was an internal API that was never intended for public use. Instead of `timers.active()`, developers should use the public timer APIs like `setTimeout`, `setInterval`, or implement their own timer management logic.

The `timers.active()` function was part of the internal timer implementation and was used to mark timers as active, but this functionality should be handled through the public timer APIs.

## Examples

### Example 1: Remove internal timer call

**Before:**

```js
const timers = require("node:timers");
timers.active(someTimer);
```

**After:**

```js
// Use public timer APIs instead
const timer = setTimeout(() => {
  // timer logic
}, delay);
```

### Example 2: Replace with setTimeout

**Before:**

```js
const timers = require("node:timers");
function activateTimer(timer) {
  timers.active(timer);
}
```

**After:**

```js
function activateTimer(callback, delay = 1000) {
  return setTimeout(callback, delay);
}
```

### Example 3: Custom timer management

**Before:**

```js
const timers = require("node:timers");
class TimerManager {
  activate(timer) {
    timers.active(timer);
  }
}
```

**After:**

```js
class TimerManager {
  constructor() {
    this.timers = new Set();
  }
  
  activate(callback, delay) {
    const timer = setTimeout(() => {
      this.timers.delete(timer);
      callback();
    }, delay);
    this.timers.add(timer);
    return timer;
  }
  
  clear() {
    for (const timer of this.timers) {
      clearTimeout(timer);
    }
    this.timers.clear();
  }
}
```

### Example 4: Connection timeout management

**Before:**

```js
const timers = require("node:timers");
function manageConnection(connection) {
  timers.active(connection._timeout);
}
```

**After:**

```js
function manageConnection(connection, timeout = 30000) {
  connection._timeout = setTimeout(() => {
    connection.destroy();
  }, timeout);
  return connection._timeout;
}
```

### Example 5: Remove from exports

**Before:**

```js
const timers = require("node:timers");
module.exports = {
  activate: timers.active,
  // other exports
};
```

**After:**

```js
module.exports = {
  activate: (callback, delay) => setTimeout(callback, delay),
  // other exports
};
```

### Example 6: ESM alternative

**Before:**

```js
import { active } from "node:timers";
active(myTimer);
```

**After:**

```js
// Use standard timer APIs
const timer = setTimeout(callback, delay);
```

## Refs

- [DEP0126: `timers.active()`](https://nodejs.org/api/deprecations.html#dep0126)