# util.isPrimitive()

## Description

Since `util.isPrimitive()` is deprecated (DEP0054) and has reached End-of-Life status, we should provide a codemod to replace it.

- The codemod should replace `util.isPrimitive(value)` with a function that checks for primitive types.
- The codemod should handle both CommonJS and ESM imports.
- The codemod should remove unused util imports when no other util functions are used.
- The codemod should preserve any comments and variable assignments.

## Additional Information

Note that `util.isPrimitive()` was removed in Node.js v23.0.0. The function was deprecated because it was part of the util.is* family of type-checking functions that had issues requiring backward-incompatible changes to fix properly. Instead of `util.isPrimitive()`, developers should use a combination of typeof checks or create a helper function to check for primitive types.

The `util.isPrimitive()` function returned true if the given value was a primitive (null, undefined, boolean, number, string, or symbol), as opposed to an object.

## Examples

### Example 1: Basic isPrimitive usage

**Before:**

```js
const util = require("node:util");
if (util.isPrimitive(value)) {
  console.log("It's a primitive");
}
```

**After:**

```js
if (value !== Object(value)) {
  console.log("It's a primitive");
}
```

### Example 2: Destructured import

**Before:**

```js
const { isPrimitive } = require("node:util");
const result = isPrimitive(input);
```

**After:**

```js
const result = input !== Object(input);
```

### Example 3: ESM import

**Before:**

```js
import { isPrimitive } from "node:util";
const valid = isPrimitive(data);
```

**After:**

```js
const valid = data !== Object(data);
```

### Example 4: Function usage with helper

**Before:**

```js
const util = require("node:util");
function checkPrimitive(val) {
  return util.isPrimitive(val);
}
```

**After:**

```js
function checkPrimitive(val) {
  const type = typeof val;
  return val == null || (type !== "object" && type !== "function");
}
```

### Example 5: Conditional expression

**Before:**

```js
const util = require("node:util");
const type = util.isPrimitive(data) ? "primitive" : "object";
```

**After:**

```js
const type = data !== Object(data) ? "primitive" : "object";
```

### Example 6: Array filter usage

**Before:**

```js
const util = require("node:util");
const primitives = array.filter(util.isPrimitive);
```

**After:**

```js
const primitives = array.filter(item => item !== Object(item));
```

## Refs

- [DEP0054: `util.isPrimitive()`](https://nodejs.org/api/deprecations.html#dep0054)